<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tebak Kata Jepang â€“ Level Menengah ğŸŒ</title>
<style>
  body { font-family: 'Poppins', sans-serif; background: #fff0f5; text-align: center; color: #333; margin:0; padding:20px;}
  h1 { color:#e91e63; margin-bottom:5px; }
  .modeBtn, #submitBtn {
    padding: 12px 25px;
    margin: 15px;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    background: #ff4081;
    color: white;
    font-size: 1.1em;
    font-weight: bold;
    box-shadow: 0 4px 6px rgba(0,0,0,0.2);
    transition: 0.2s;
  }
  .modeBtn:hover, #submitBtn:hover { background: #e91e63; transform: scale(1.05); }
  #game,#result{display:none;}
  #timer{font-size:1.5em; color:#00796b; margin:10px 0;}
  input{
    padding:10px; width:80%; font-size:1em; border-radius:5px; border:1px solid #ccc;
  }
  #question{font-size:1.2em; margin:15px 0;}
  #answersList{text-align:left; display:inline-block; margin-top:20px;}
  table{border-collapse:collapse; margin:auto;}
  th,td{border:1px solid #ccc; padding:5px;}
</style>
</head>
<body>

<h1>ğŸŒ Tebak Kata Jepang â€“ Level Menengah ğŸŒ</h1>
<p>Pilih mode permainan:</p>
<button class="modeBtn" onclick="startGame('id-jp')">ğŸ‡®ğŸ‡© âœ ğŸ‡¯ğŸ‡µ</button>
<button class="modeBtn" onclick="startGame('jp-id')">ğŸ‡¯ğŸ‡µ âœ ğŸ‡®ğŸ‡©</button>

<div id="game">
  <div id="timer">â±ï¸ Waktu: 25</div>
  <div id="question"></div>
  <input type="text" id="answer" placeholder="Tulis jawaban di sini">
  <div style="text-align:center;">
    <button id="submitBtn" onclick="submitAnswer()">Kirim</button>
  </div>
  <p id="feedback"></p>
</div>

<div id="result">
  <h2>ğŸ‰ Hasil Permainan ğŸ‰</h2>
  <p id="finalScore"></p>
  <div id="answersList"></div>
  <button onclick="location.reload()">Main Lagi</button>
</div>

<!-- Efek Suara -->
<audio id="correctSound" src="https://files.catbox.moe/1x2m4g.mp3" preload="auto"></audio>
<audio id="wrongSound" src="https://files.catbox.moe/9y6ycv.mp3" preload="auto"></audio>
<audio id="timeoutSound" src="https://files.catbox.moe/vb6zri.mp3" preload="auto"></audio>
<audio id="countdownSound" src="https://files.catbox.moe/jd3v0h.mp3" preload="auto"></audio>

<script>
// Data soal
const questions_id_jp = [
  { q: "Aku akan pergi ke toko **sebentar lagi**.", a: ["ã‚‚ã†ã™ã"] },
  { q: "Dia datang **baru saja**, jadi belum makan.", a: ["ã•ã£ã"] },
  { q: "Kereta akan tiba **dalam waktu dekat**.", a: ["ã¾ã‚‚ãªã"] },
  { q: "Aku jarang bertemu teman-temanku **akhir-akhir ini**.", a: ["ã•ã„ãã‚“","æœ€è¿‘"] },
  { q: "Aku ingin belajar bahasa Jepang **sejak dulu**.", a: ["ã‚€ã‹ã—","æ˜”"] },
  { q: "Aku ingin pergi ke Jepang **suatu hari nanti**.", a: ["ã„ã¤ã‹"] },
  { q: "Aku berkunjung ke nenekku **beberapa hari yang lalu**.", a: ["ãªã‚“ã«ã¡ã‹ã¾ãˆ","ä½•æ—¥ã‹å‰"] },
  { q: "Aku belajar bahasa Jepang **mulai sekarang**.", a: ["ã“ã‚Œã‹ã‚‰"] },
  { q: "Aku bertemu teman lama **beberapa waktu lalu**.", a: ["ã“ã®ã‚ã„ã ","ã“ã®é–“"] },
  { q: "Aku sudah belajar bahasa Jepang **selama ini / hingga sekarang**.", a: ["ã„ã¾ã¾ã§","ä»Šã¾ã§"] }
];

const questions_jp_id = [
  { q: "ã˜ã‚…ãã‚‡ã†ã® **ã¾ãˆã«**, ã—ã‚…ãã ã„ã‚’ã—ã¦ãã ã•ã„ã€‚", a: ["sebelum","sebelumnya"] },
  { q: "ã—ã‚‡ãã˜ã® **ã‚ã¨ã§**, ã•ã‚“ã½ã«ã„ãã¾ã™ã€‚", a: ["sesudah","nanti"] },
  { q: "ãˆã„ãŒã‚’ã¿ãŸ **ãã®ã‚ã¨**, ã‹ãµã‡ã«ã„ã£ãŸã€‚", a: ["setelah itu"] },
  { q: "**ã•ã„ã—ã‚‡ã«**, ã˜ã“ã—ã‚‡ã†ã‹ã„ã‚’ã—ã¾ã—ã‚‡ã†ã€‚", a: ["pertama-tama"] },
  { q: "**ã•ã„ã”ã«**, ã‹ã‚“ãã†ã‚’ã„ã£ã¦ãã ã•ã„ã€‚", a: ["terakhir","pada akhirnya"] },
  { q: "**ãŸã„ã¦ã„** ã‚ã•7ã˜ã«ãŠãã¾ã™ã€‚", a: ["biasanya"] },
  { q: "**ã‘ã£ãã‚‡ã**, ã‹ã‚Œã¯ã“ãªã‹ã£ãŸã€‚", a: ["akhirnya","pada akhirnya"] },
  { q: "ã“ã®ã”ã‚ã€ã„ããŒã—ãã¦ã­ã¶ããã§ã™ã€‚", a: ["belakangan ini"] },
  { q: "**ã—ã‚‡ã†ã‚‰ã„**, ã‹ã„ãŒã„ã«ã™ã¿ãŸã„ã§ã™ã€‚", a: ["di masa depan"] },
  { q: "**ã’ã‚“ã–ã„**, ã«ã»ã‚“ã”ã‚’ã¹ã‚“ãã‚‡ã†ã—ã¦ã„ã¾ã™ã€‚", a: ["saat ini","sekarang ini"] }
];

let currentQuestions = [];
let currentIndex = 0;
let score = 0;
let timer;
let timeLeft = 25;
let userAnswers = [];

function startGame(mode) {
  document.querySelectorAll(".modeBtn").forEach(btn => btn.style.display = "none"); // sembunyikan tombol mode saja
  document.getElementById("game").style.display = "block";
  currentQuestions = mode==='id-jp'?questions_id_jp:questions_jp_id;
  currentIndex=0; score=0; userAnswers=[];
  nextQuestion();
}

function nextQuestion() {
  if(currentIndex>=currentQuestions.length){ endGame(); return; }
  const q=currentQuestions[currentIndex];
  document.getElementById("question").innerHTML=`Soal ${currentIndex+1}: ${q.q}`;
  document.getElementById("answer").value="";
  document.getElementById("feedback").textContent="";
  resetTimer();
}

function resetTimer() {
  clearInterval(timer);
  timeLeft=25;
  document.getElementById("timer").textContent=`â±ï¸ Waktu: ${timeLeft}`;
  timer=setInterval(()=>{
    timeLeft--;
    document.getElementById("timer").textContent=`â±ï¸ Waktu: ${timeLeft}`;
    if(timeLeft<=5 && timeLeft>0){ document.getElementById("countdownSound").play().catch(e=>{}); }
    if(timeLeft<=0){
      clearInterval(timer);
      document.getElementById("timeoutSound").play().catch(e=>{});
      const correct = currentQuestions[currentIndex].a[0];
      userAnswers.push({ q: currentQuestions[currentIndex].q, correct: correct, your:"Tidak dijawab" });
      currentIndex++;
      setTimeout(nextQuestion,2000);
    }
  },1000);
}

function submitAnswer() {
  clearInterval(timer);
  const userAns=document.getElementById("answer").value.trim().toLowerCase();
  const correctAnswers=currentQuestions[currentIndex].a.map(a=>a.toLowerCase());
  let feedback="";
  if(correctAnswers.includes(userAns)){
    score+=5;
    feedback="Benar! ğŸ‰";
    document.getElementById("correctSound").play().catch(e=>{});
    userAnswers.push({ q: currentQuestions[currentIndex].q, correct: currentQuestions[currentIndex].a[0], your:userAns });
  } else{
    feedback="Salah ğŸ˜¢";
    document.getElementById("wrongSound").play().catch(e=>{});
    userAnswers.push({ q: currentQuestions[currentIndex].q, correct: currentQuestions[currentIndex].a[0], your:userAns||"Tidak dijawab" });
  }
  document.getElementById("feedback").textContent=feedback;
  currentIndex++;
  setTimeout(nextQuestion,1500);
}

function endGame() {
  document.getElementById("game").style.display="none";
  document.getElementById("result").style.display="block";
  document.getElementById("finalScore").textContent=`Skor Akhir: ${score} / 100`;
  let list="<h3>ğŸ“‹ Daftar Jawaban:</h3><table><tr><th>No</th><th>Soal</th><th>Jawaban Benar</th><th>Jawaban Kamu</th></tr>";
  userAnswers.forEach((a,i)=>{
    const color = a.correct.toLowerCase() === a.your.toLowerCase() ? "green" : "red";
    list+=`<tr><td>${i+1}</td><td>${a.q}</td><td>${a.correct}</td><td style="color:${color}">${a.your}</td></tr>`;
  });
  list+="</table>";
  document.getElementById("answersList").innerHTML=list;
}
</script>
</body>
</html>
