<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tebak Kata Jepang ‚Äì Minimal</title>
<style>
  body { font-family:sans-serif; text-align:center; background:#fff0f5; color:#333; margin:0; padding:20px;}
  h1 { color:#e91e63; }
  .modeBtn, #submitBtn {
    padding:12px 25px; margin:10px; border:none; border-radius:12px;
    background:#ff4081; color:white; font-size:1em; font-weight:bold; cursor:pointer;
  }
  .modeBtn:hover, #submitBtn:hover { background:#e91e63; }
  #game, #result { display:none; }
  input{ padding:10px; width:70%; font-size:1em; }
</style>
</head>
<body>

<h1>Tebak Kata Jepang üéå</h1>
<p>Pilih mode permainan:</p>
<button class="modeBtn" onclick="startGame('id-jp')">ID ‚ûú JP</button>
<button class="modeBtn" onclick="startGame('jp-id')">JP ‚ûú ID</button>

<div id="game">
  <div id="timer">‚è±Ô∏è Waktu: 25</div>
  <div id="question"></div>
  <input type="text" id="answer" placeholder="Jawaban kamu...">
  <div><button id="submitBtn" onclick="submitAnswer()">Kirim</button></div>
  <p id="feedback"></p>
</div>

<div id="result">
  <h2>Hasil üéâ</h2>
  <p id="finalScore"></p>
  <div id="answersList"></div>
  <button onclick="location.reload()">Main Lagi</button>
</div>

<!-- Audio -->
<audio id="correctSound" src="https://files.catbox.moe/1x2m4g.mp3" preload="auto"></audio>
<audio id="wrongSound" src="https://files.catbox.moe/9y6ycv.mp3" preload="auto"></audio>
<audio id="timeoutSound" src="https://files.catbox.moe/vb6zri.mp3" preload="auto"></audio>
<audio id="countdownSound" src="https://files.catbox.moe/jd3v0h.mp3" preload="auto"></audio>

<script>
const questions_id_jp = [
  { q:"Aku akan pergi **sebentar lagi**.", a:["„ÇÇ„ÅÜ„Åô„Åê"] },
  { q:"Dia datang **baru saja**.", a:["„Åï„Å£„Åç"] }
];
const questions_jp_id = [
  { q:"„Åò„ÇÖ„Åé„Çá„ÅÜ„ÅÆ **„Åæ„Åà„Å´**", a:["sebelum"] },
  { q:"„Åó„Çá„Åè„Åò„ÅÆ **„ÅÇ„Å®„Åß**", a:["sesudah"] }
];

let currentQuestions=[], currentIndex=0, score=0, timer, timeLeft=25, userAnswers=[];

function startGame(mode){
  document.querySelectorAll(".modeBtn").forEach(btn=>btn.style.display="none");
  document.getElementById("game").style.display="block";
  currentQuestions = mode==='id-jp'?questions_id_jp:questions_jp_id;
  currentIndex=0; score=0; userAnswers=[];
  nextQuestion();
}

function nextQuestion(){
  if(currentIndex>=currentQuestions.length){ endGame(); return; }
  const q=currentQuestions[currentIndex];
  document.getElementById("question").innerHTML=`Soal ${currentIndex+1}: ${q.q}`;
  document.getElementById("answer").value="";
  document.getElementById("feedback").textContent="";
  resetTimer();
}

function resetTimer(){
  clearInterval(timer);
  timeLeft=25;
  document.getElementById("timer").textContent=`‚è±Ô∏è Waktu: ${timeLeft}`;
  timer=setInterval(()=>{
    timeLeft--;
    document.getElementById("timer").textContent=`‚è±Ô∏è Waktu: ${timeLeft}`;
    if(timeLeft<=5 && timeLeft>0){ document.getElementById("countdownSound").play().catch(()=>{}); }
    if(timeLeft<=0){
      clearInterval(timer);
      document.getElementById("timeoutSound").play().catch(()=>{});
      const correct=currentQuestions[currentIndex].a[0];
      userAnswers.push({ q:currentQuestions[currentIndex].q, correct:correct, your:"Tidak dijawab" });
      currentIndex++;
      setTimeout(nextQuestion,1500);
    }
  },1000);
}

function submitAnswer(){
  clearInterval(timer);
  const userAns=document.getElementById("answer").value.trim().toLowerCase();
  const correctAnswers=currentQuestions[currentIndex].a.map(a=>a.toLowerCase());
  let feedback="";
  if(correctAnswers.includes(userAns)){
    score+=5;
    feedback="Benar! üéâ";
    document.getElementById("correctSound").play().catch(()=>{});
  } else {
    feedback="Salah üò¢";
    document.getElementById("wrongSound").play().catch(()=>{});
  }
  userAnswers.push({ q:currentQuestions[currentIndex].q, correct:currentQuestions[currentIndex].a[0], your:userAns||"Tidak dijawab" });
  document.getElementById("feedback").textContent=feedback;
  currentIndex++;
  setTimeout(nextQuestion,1000);
}

function endGame(){
  document.getElementById("game").style.display="none";
  document.getElementById("result").style.display="block";
  document.getElementById("finalScore").textContent=`Skor Akhir: ${score}`;
  let list="<table border='1' style='margin:auto;'><tr><th>No</th><th>Soal</th><th>Jawaban Benar</th><th>Jawaban Kamu</th></tr>";
  userAnswers.forEach((a,i)=>{
    const color = a.correct.toLowerCase()===a.your.toLowerCase()?"green":"red";
    list+=`<tr><td>${i+1}</td><td>${a.q}</td><td>${a.correct}</td><td style="color:${color}">${a.your}</td></tr>`;
  });
  list+="</table>";
  document.getElementById("answersList").innerHTML=list;
}
</script>
</body>
</html>
